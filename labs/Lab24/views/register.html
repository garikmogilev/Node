<html>
<head>
    <title>Страница регистрации</title>
    <link href="css/signup.css" media="all" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="authorization">
    <form name="auth" action="register" method="POST">

        <p><span class="black">LOG IN</span> <span class="gray">or</span> <span class="yellow">SIGN UP</span></p>
        <hr/>

        <p class="forms">
            <label for="username">Login &#x1F479;</label>
            <input id="username" type="text" name="username" placeholder="Login" onkeyup="checkLogin(this.value)">
        </p>

        <p class="forms">
            <label for="password">Password &#x1F511;</label>
            <input id="password" type="password" name="password" placeholder="Password" class="showPassword" onkeyup="checkPassword(this.value)">
        </p>
        <p class="forms">
            <label for="password">Repeat password &#x1F511;</label>
            <input id="repeat" type="password" name="repeat" placeholder="Password" class="showPassword" onkeyup="checkRepeat(this.value)">
        </p>

        <hr/>
        <div class="buttons">
            <input type="hidden" name="inputHide" />
            <button type="button" name="sign" value="SIGN UP" onclick="{document.auth.inputHide.value=this.value;document.auth.submit();}">SIGN UP</button>
        </div>
    </form>
</div>



<script type="application/javascript">

    let login = false;
    let password = false;

    function showPassword()
    {
        let show = document.getElementById("showPassword");
        show.onchange = function() {
            if(this.checked) {
                document.getElementById("password").setAttribute("type", "text");
            }else {
                document.getElementById("password").setAttribute("type", "password");
            }
        }
    }

    function checkLogin(str)
    {
        if(str.length < 4)
        {
            document.getElementById("errorInput").innerHTML = "Login must be more than 4 characters";
            document.getElementsByName("login")[0].style.borderColor = "red";
            login = false;
        }
        else
        {
            document.getElementById("errorInput").innerHTML = "";
            document.getElementsByName("login")[0].style.borderColor = "green";
            login = true;
        }
    }
    function checkPassword(str) {
        if (str.length < 8) {
            document.getElementById("errorInput").innerHTML = "Password must be more than 8 characters";
            document.getElementsByName("password")[0].style.borderColor = "red";
            password = false;
            return;
        } else {
            document.getElementById("errorInput").innerHTML = "";
            document.getElementsByName("password")[0].style.borderColor = "green";
            password = true;
        }

        if (str !== document.getElementsByName("repeat")[0].value) {
            document.getElementById("errorInput").innerHTML = "Password not equals the password repeated";
            document.getElementsByName("password")[0].style.borderColor = "red";
            document.getElementsByName("repeat")[0].style.borderColor = "red";
        } else {
            document.getElementById("errorInput").innerHTML = "";
            document.getElementsByName("password")[0].style.borderColor = "green";
            document.getElementsByName("repeat")[0].style.borderColor = "green";
        }
    }
    function checkRepeat(str) {
        if (str.length < 8) {
            document.getElementById("errorInput").innerHTML = "Repeated must be more than 8 characters";
            document.getElementsByName("repeat")[0].style.borderColor = "red";
            password = false;
            return;
        } else {
            document.getElementById("errorInput").innerHTML = "";
            document.getElementsByName("repeat")[0].style.borderColor = "green";
            password = true;
        }

        if (str !== document.getElementsByName("password")[0].value) {
            document.getElementById("errorInput").innerHTML = "Repeated not equals the password repeated";
            document.getElementsByName("password")[0].style.borderColor = "red";
            document.getElementsByName("repeat")[0].style.borderColor = "red";
        } else {
            document.getElementById("errorInput").innerHTML = "";
            document.getElementsByName("password")[0].style.borderColor = "green";
            document.getElementsByName("repeat")[0].style.borderColor = "green";
        }
    }


</script>
</body>
</html>